# Тест-кейсы для тестирования API

## 1. Создание сущности

### TC-001: Успешное создание сущности

**Предусловия:**
- API-сервис запущен и доступен

**Шаги:**
1. Отправить POST-запрос на эндпоинт `/api/create` с валидными данными:
   - title: уникальный заголовок
   - verified: статус проверки (true/false)
   - important_numbers: массив чисел
   - addition: объект с дополнительной информацией

**Ожидаемый результат:**
- HTTP-статус: 200 OK
- В ответе получен непустой идентификатор сущности
- При запросе созданной сущности по ID, все данные соответствуют отправленным

**Постусловие:**
- Созданная сущность удаляется после завершения теста

## 2. Получение сущности

### TC-002: Получение сущности по ID

**Предусловия:**
- API-сервис запущен и доступен
- Существует сущность с известным ID

**Шаги:**
1. Отправить GET-запрос на эндпоинт `/api/get/{entity_id}`

**Ожидаемый результат:**
- HTTP-статус: 200 OK
- В ответе получены все данные сущности:
  - id: соответствует запрошенному
  - title: непустое значение
  - verified: логическое значение
  - important_numbers: массив чисел
  - addition: объект со свойствами additional_info и additional_number

**Постусловие:**
- Созданная для теста сущность удаляется после завершения теста

## 3. Получение всех сущностей

### TC-003: Получение всех сущностей без фильтрации

**Предусловия:**
- API-сервис запущен и доступен
- В системе существует несколько сущностей

**Шаги:**
1. Отправить GET-запрос на эндпоинт `/api/getAll`

**Ожидаемый результат:**
- HTTP-статус: 200 OK
- В ответе получен массив сущностей
- Каждая сущность содержит все необходимые поля
- Структура данных соответствует модели EntityResponse

**Постусловие:**
- Все созданные для теста сущности удаляются после завершения теста

### TC-004: Фильтрация сущностей по заголовку

**Предусловия:**
- API-сервис запущен и доступен
- В системе существуют сущности с различными заголовками

**Шаги:**
1. Отправить GET-запрос на эндпоинт `/api/getAll?title={название}`

**Ожидаемый результат:**
- HTTP-статус: 200 OK
- В ответе получены только сущности, содержащие указанное название в заголовке

**Постусловие:**
- Все созданные для теста сущности удаляются после завершения теста

### TC-005: Фильтрация сущностей по статусу верификации

**Предусловия:**
- API-сервис запущен и доступен
- В системе существуют сущности с разными статусами верификации

**Шаги:**
1. Отправить GET-запрос на эндпоинт `/api/getAll?verified=true`

**Ожидаемый результат:**
- HTTP-статус: 200 OK
- В ответе получены только сущности со статусом verified=true

**Постусловие:**
- Все созданные для теста сущности удаляются после завершения теста

### TC-006: Пагинация списка сущностей

**Предусловия:**
- API-сервис запущен и доступен
- В системе существует более 10 сущностей

**Шаги:**
1. Отправить GET-запрос на эндпоинт `/api/getAll?page=1&perPage=5`

**Ожидаемый результат:**
- HTTP-статус: 200 OK
- В ответе получено не более 5 сущностей
- Сущности соответствуют первой странице при указанном размере страницы

**Постусловие:**
- Все созданные для теста сущности удаляются после завершения теста

## 4. Обновление сущности

### TC-007: Успешное обновление существующей сущности

**Предусловия:**
- API-сервис запущен и доступен
- Существует сущность с известным ID

**Шаги:**
1. Отправить PATCH-запрос на эндпоинт `/api/patch/{entity_id}` с новыми данными:
   - title: новый заголовок
   - verified: новый статус проверки
   - important_numbers: новый массив чисел
   - addition: новые дополнительные данные

**Ожидаемый результат:**
- HTTP-статус: 204 No Content
- При получении обновленной сущности по ID, все поля соответствуют отправленным в запросе

**Постусловие:**
- Обновленная сущность удаляется после завершения теста

## 5. Удаление сущности

### TC-008: Успешное удаление существующей сущности

**Предусловия:**
- API-сервис запущен и доступен
- Существует сущность с известным ID

**Шаги:**
1. Отправить DELETE-запрос на эндпоинт `/api/delete/{entity_id}`

**Ожидаемый результат:**
- HTTP-статус: 204 No Content
- При попытке запросить удаленную сущность, должен вернуться статус 404 Not Found или пустой результат

## 6. Проверка валидации

### TC-009: Валидация ответа от API

**Предусловия:**
- API-сервис запущен и доступен
- Существует сущность с известным ID

**Шаги:**
1. Отправить GET-запрос на эндпоинт `/api/get/{entity_id}`
2. Проверить соответствие полученной структуры данных модели EntityResponse

**Ожидаемый результат:**
- Ответ успешно валидируется в соответствии с моделью
- Все поля соответствуют ожидаемым типам данных

**Постусловие:**
- Созданная для теста сущность удаляется после завершения теста
